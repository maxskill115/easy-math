<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finger Math - Luy·ªán T√≠nh Nh·∫©m</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- M√ÄN H√åNH CH√çNH -->
        <div id="home-screen" class="screen active">
            <h1>üñêÔ∏è Finger Math</h1>
            <h2>Luy·ªán T√≠nh Nh·∫©m Cho B√©</h2>

            <!-- Ch·ªçn m·ª©c ƒë·ªô (multi-select) -->
            <div class="settings-group">
                <label>üìä M·ª©c ƒë·ªô: <span class="hint">(c√≥ th·ªÉ ch·ªçn nhi·ªÅu)</span></label>
                <div class="button-group">
                    <button class="option-btn active" data-setting="level" data-value="unit">H√†ng ƒë∆°n v·ªã</button>
                    <button class="option-btn" data-setting="level" data-value="tens">H√†ng ch·ª•c</button>
                    <button class="option-btn" data-setting="level" data-value="hundreds">H√†ng trƒÉm</button>
                    <button class="option-btn" data-setting="level" data-value="thousands">H√†ng ngh√¨n</button>
                </div>
            </div>

            <!-- Ch·ªçn ƒë·ªô kh√≥ (multi-select) -->
            <div class="settings-group">
                <label>‚ö° ƒê·ªô kh√≥: <span class="hint">(c√≥ th·ªÉ ch·ªçn nhi·ªÅu)</span></label>
                <div class="button-group">
                    <button class="option-btn active" data-setting="difficulty" data-value="no-carry">Kh√¥ng nh·ªõ</button>
                    <button class="option-btn" data-setting="difficulty" data-value="carry">C√≥ nh·ªõ</button>
                </div>
            </div>

            <!-- Ch·ªçn ph√©p t√≠nh (multi-select) -->
            <div class="settings-group">
                <label>‚ûï Ph√©p t√≠nh: <span class="hint">(c√≥ th·ªÉ ch·ªçn nhi·ªÅu)</span></label>
                <div class="button-group">
                    <button class="option-btn active" data-setting="operation" data-value="add">C·ªông (+)</button>
                    <button class="option-btn" data-setting="operation" data-value="subtract">Tr·ª´ (‚àí)</button>
                </div>
            </div>

            <!-- Ch·ªçn ch·∫ø ƒë·ªô (ch·ªâ cho luy·ªán t·∫≠p) -->
            <div class="settings-group">
                <label>üéØ Ch·∫ø ƒë·ªô luy·ªán t·∫≠p:</label>
                <div class="button-group">
                    <button class="option-btn active" data-setting="mode" data-value="view">Xem k·∫øt qu·∫£</button>
                    <button class="option-btn" data-setting="mode" data-value="input">Nh·∫≠p k·∫øt qu·∫£</button>
                </div>
            </div>

            <!-- C√†i ƒë·∫∑t b√†i thi -->
            <div class="settings-group exam-settings">
                <label>üìù S·ªë c√¢u b√†i thi:</label>
                <div class="size-controls">
                    <button class="size-btn" data-action="exam-decrease">‚àí</button>
                    <span id="exam-count-display">10</span>
                    <button class="size-btn" data-action="exam-increase">+</button>
                </div>
            </div>

            <!-- 2 n√∫t ch√≠nh -->
            <div class="main-buttons">
                <button id="start-btn" class="primary-btn half-btn">‚ñ∂Ô∏è LUY·ªÜN T·∫¨P</button>
                <button id="exam-btn" class="primary-btn half-btn exam-btn-color">üìù B√ÄI THI</button>
            </div>

            <!-- N√∫t c√†i ƒë·∫∑t giao di·ªán (thu g·ªçn) -->
            <button id="toggle-settings-btn" class="toggle-settings-btn">‚öôÔ∏è C√†i ƒë·∫∑t giao di·ªán</button>
            
            <!-- C√†i ƒë·∫∑t giao di·ªán (·∫©n m·∫∑c ƒë·ªãnh) -->
            <div id="display-settings" class="settings-group display-settings hidden">
                <label>üé® T√πy ch·ªânh giao di·ªán:</label>
                <div class="setting-row">
                    <span>C·ª° ch·ªØ:</span>
                    <div class="size-controls">
                        <button class="size-btn" data-action="decrease">‚àí</button>
                        <span id="font-size-display">100%</span>
                        <button class="size-btn" data-action="increase">+</button>
                    </div>
                </div>
                <div class="setting-row">
                    <span>M√†u ch√≠nh:</span>
                    <input type="color" id="primary-color" value="#88ccff">
                </div>
                <div class="setting-row">
                    <span>M√†u ph·ª•:</span>
                    <input type="color" id="secondary-color" value="#ffd700">
                </div>
                <div class="setting-row">
                    <span>M√†u k·∫øt qu·∫£ ƒë√∫ng:</span>
                    <input type="color" id="correct-color" value="#00ff88">
                </div>
                <button id="reset-settings-btn" class="reset-btn">üîÑ Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh</button>
            </div>
        </div>

        <!-- M√ÄN H√åNH LUY·ªÜN T·∫¨P -->
        <div id="practice-screen" class="screen">
            <div class="header">
                <button id="back-btn" class="back-btn">‚Üê Quay l·∫°i</button>
                <div class="problem-counter">B√†i s·ªë: <span id="problem-number">1</span></div>
            </div>

            <div class="problem-area">
                <div class="problem-display">
                    <span id="num1">0</span>
                    <span id="operator">+</span>
                    <span id="num2">0</span>
                    <span>=</span>
                    <span id="answer-display">?</span>
                </div>
            </div>

            <!-- Ch·∫ø ƒë·ªô A: Xem k·∫øt qu·∫£ -->
            <div id="mode-view" class="mode-section">
                <button id="show-answer-btn" class="primary-btn">XEM K·∫æT QU·∫¢</button>
            </div>

            <!-- Ch·∫ø ƒë·ªô B: Nh·∫≠p k·∫øt qu·∫£ -->
            <div id="mode-input" class="mode-section hidden">
                <div class="input-area">
                    <label class="input-label">ƒê√°p √°n c·ªßa con:</label>
                    <input type="text" inputmode="numeric" pattern="[0-9]*" id="user-answer">
                </div>
                <button id="check-btn" class="primary-btn">KI·ªÇM TRA</button>
            </div>

            <!-- Khu v·ª±c ph·∫£n h·ªìi -->
            <div id="feedback-area" class="feedback-area hidden">
                <div id="feedback-message" class="feedback-message"></div>
                <div id="correct-answer" class="correct-answer"></div>
            </div>

            <!-- N√∫t b√†i ti·∫øp theo -->
            <button id="next-btn" class="primary-btn next-btn hidden">B√ÄI TI·∫æP THEO ‚Üí</button>
        </div>

        <!-- M√ÄN H√åNH B√ÄI THI - T·ª´ng c√¢u m·ªôt -->
        <div id="exam-screen" class="screen">
            <div class="header">
                <button id="exam-back-btn" class="back-btn">‚Üê Quay l·∫°i</button>
                <div class="problem-counter">C√¢u: <span id="exam-current">1</span> / <span id="exam-total">10</span></div>
            </div>

            <div class="problem-area">
                <div class="problem-display">
                    <span id="exam-num1">0</span>
                    <span id="exam-operator">+</span>
                    <span id="exam-num2">0</span>
                    <span>=</span>
                    <span id="exam-answer-display">?</span>
                </div>
            </div>

            <div class="input-area">
                <label class="input-label">Nh·∫≠p ƒë√°p √°n:</label>
                <input type="text" inputmode="numeric" pattern="[0-9-]*" id="exam-user-answer">
            </div>

            <div class="exam-nav-buttons">
                <button id="exam-prev-btn" class="primary-btn nav-btn">‚Üê QUAY L·∫†I</button>
                <button id="exam-next-btn" class="primary-btn nav-btn">TI·∫æP THEO ‚Üí</button>
            </div>
        </div>

        <!-- M√ÄN H√åNH XEM L·∫†I TR∆Ø·ªöC KHI N·ªòP -->
        <div id="review-screen" class="screen">
            <div class="header">
                <button id="review-back-btn" class="back-btn">‚Üê Ti·∫øp t·ª•c l√†m b√†i</button>
                <h2 class="review-title">üìã XEM L·∫†I B√ÄI THI</h2>
            </div>

            <div class="review-summary">
                <div class="summary-item done">
                    <span class="summary-label">‚úì ƒê√£ l√†m:</span>
                    <span id="done-count" class="summary-value">0</span>
                </div>
                <div class="summary-item not-done">
                    <span class="summary-label">‚óã Ch∆∞a l√†m:</span>
                    <span id="not-done-count" class="summary-value">0</span>
                </div>
            </div>

            <div class="review-list" id="review-list">
                <!-- Danh s√°ch c√¢u h·ªèi s·∫Ω ƒë∆∞·ª£c sinh b·∫±ng JS -->
            </div>

            <button id="submit-exam-btn" class="primary-btn submit-btn">üì§ N·ªòP B√ÄI THI</button>
        </div>

        <!-- M√ÄN H√åNH K·∫æT QU·∫¢ B√ÄI THI -->
        <div id="result-screen" class="screen">
            <div class="result-container">
                <h1 class="result-title">üéâ K·∫æT QU·∫¢ B√ÄI THI</h1>
                
                <div class="result-score">
                    <div class="score-circle">
                        <span id="score-percent">0%</span>
                    </div>
                </div>

                <div class="result-details">
                    <div class="result-item correct-item">
                        <span class="result-label">‚úì S·ªë c√¢u ƒë√∫ng:</span>
                        <span id="correct-count" class="result-value">0</span>
                    </div>
                    <div class="result-item incorrect-item">
                        <span class="result-label">‚úó S·ªë c√¢u sai:</span>
                        <span id="incorrect-count" class="result-value">0</span>
                    </div>
                    <div class="result-item total-item">
                        <span class="result-label">üìä T·ªïng s·ªë c√¢u:</span>
                        <span id="total-count" class="result-value">0</span>
                    </div>
                </div>

                <div class="result-message excellent" id="result-message">
                    üéâ Con ƒë√£ ho√†n th√†nh b√†i thi!
                </div>

                <!-- B·∫£ng chi ti·∫øt k·∫øt qu·∫£ 3 c·ªôt -->
                <div class="result-table-container">
                    <table class="result-table">
                        <thead>
                            <tr>
                                <th>B√†i to√°n</th>
                                <th>ƒê√°p √°n</th>
                                <th>K·∫øt qu·∫£</th>
                            </tr>
                        </thead>
                        <tbody id="result-table-body">
                            <!-- S·∫Ω ƒë∆∞·ª£c sinh b·∫±ng JS -->
                        </tbody>
                    </table>
                </div>

                <button id="home-btn" class="primary-btn">üè† V·ªÄ TRANG CH·ª¶</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
